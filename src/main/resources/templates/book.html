<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<head>
    <title th:text="'Book Details - ' + ${book.title}">Book Details</title>
    <link  th:href="@{/css/starRating.css}" rel="stylesheet">
</head>

<body>
    <div th:insert="~{fragments/navigation-bar}"></div>

    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a th:href="@{/get-book-list}">Book List</a></li>
            <li class="breadcrumb-item active" aria-current="page">Book</li>
        </ol>
    </nav>

    <div class="container-lg m-5 p-1">
        <div class="d-flex flex-row justify-content-center">
            <div style="width:15%"></div> <!--Padding-->
            <div>
                <div class="d-flex flex-row">
                    <div class="w-50 p-4">
                        <img class="mx-auto" style="display:block; width:80%" th:src = "@{'/book-image/' + ${book.ISBN}}" th:alt="${book.title}">
                    </div>
                    <div class="w-50 p-3">
                        <h1 th:text="${book.title}">Book Title</h1>
                        <br>
                        <p><strong>Author:</strong> <span th:text="${book.author}"></span></p>
                        <p><strong>Publisher:</strong> <span th:text="${book.publisher}"></span></p>
                        <p><strong>Genre(s): </strong><span th:each="g, iterStat : ${book.genres}" th:text="${iterStat.last} ? ${g} : ${g + ', '}"></span> </p>
                        <p><strong>Series: </strong><span th:text="${book.series != null ? book.series.seriesName : 'Not in a Series'}" ></span></p>
                        <br>
                        <div>
                            <div class="d-flex flex-row">
                                <p class="col p-0"><strong>Price:</strong> <span th:text="'$'+${book.price}"></span></p>
                                <p class="col p-0"><strong>Inventory:</strong> <span th:text="${book.inventory}"></span></p>
                                <div class="col p-0"></div>
                            </div>
                            <div class="purchase-button" th:data-isbn="${book.ISBN}" th:insert="~{fragments/shopping-cart/purchase-button}"></div>
                        </div>
                        <br>
                        <br>
                    </div>
                </div>
                <div class="p-3">
                    <h2>About</h2>
                    <br>
                    <p><strong>ISBN:</strong> <span th:text="${book.ISBN}"></span></p>
                    <p><strong>Page Count: <span th:text="${book.pageCount}"></span></strong></p>
                    <p><strong>Description:</strong> <span th:text="${book.description}"></span></p>
                    <div class="review-button" th:data-isbn="${book.ISBN}" th:replace="~{fragments/review}"></div>

                </div>
            </div>
            <div style="width:15%"></div><!--Padding-->
        </div>
    </div>
</body>
</html>
<script th:src="@{/js/star-rating.js}"></script>
<script th:src="@{/js/purchase-button.js}"></script>
