<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<head>
    <title th:text="'Book Details - ' + ${book.title}">Book Details</title>
</head>
<body>

<h1 th:text="${book.title}">Book Title</h1>

<!--  Add login status -->
<div th:insert="~{fragments/user-status :: userStatus}"></div>

<img th:src = "@{'/book-image/' + ${book.ISBN}}" th:alt="${book.title}" style="max-width: 150px">

<p><strong>ISBN:</strong> <span th:text="${book.ISBN}"></span></p>
<p><strong>Author:</strong> <span th:text="${book.author}"></span></p>
<p><strong>Publisher:</strong> <span th:text="${book.publisher}"></span></p>
<p><strong>Description:</strong> <span th:text="${book.description}"></span></p>
<p><strong>Genre(s): </strong><span th:each="g, iterStat : ${book.genres}" th:text="${iterStat.last} ? ${g} : ${g + ', '}"></span> </p>
<p>Debug: [[${book.series}]]</p>
<p>Debug name: [[${book.series.seriesName}]]</p>

<p><strong>Series: </strong><span th:text="${book.series != null ? book.series.seriesName : 'Not in a Series'}" ></span></p>
<p><strong>Page Count: <span th:text="${book.pageCount}"></span></strong></p>
<p><strong>Price:</strong> <span th:text="${book.price}"></span></p>
<p><strong>Inventory:</strong> <span th:text="${book.inventory}"></span></p>

<div class="purchase-button" th:data-isbn="${book.ISBN}" th:insert="~{fragments/shopping-cart/purchase-button}"></div>


<p><a th:href="@{/get-book-list}">Back to Book List</a></p>
<br>
<div th:insert="~{fragments/common}"></div>
<script th:src="@{/js/purchase-button.js}"></script>
</body>
</html>
