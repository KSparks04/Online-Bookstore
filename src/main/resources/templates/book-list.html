<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<head>
    <title>Online Bookstore Home</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <link th:href="@{css/bookForm.css}" rel="stylesheet" />
    <link th:href="@{css/bookList.css}" rel="stylesheet" />

</head>
<body>
<h1>Book List</h1>

<div th:insert="~{fragments/user-status :: userStatus}"></div>

<!-- Book Search Bar -->
<form th:action="@{/get-book-list}" method="get">
    <label>
        <input hidden name="function" value="search">
    </label>
    <label>
        <input type="text" name="variable">
    </label>
    <button type="submit">Search</button>
</form>
<div th:insert="~{fragments/common}"></div>
<br>
<br>

<table class="book-table">
    <thead>
    <tr class="list-header">
        <th onclick="sortBy('ISBN')" data-sort="ISBN">ISBN</th>
        <th onclick="sortBy('title')" data-sort="title">Title</th>
        <th onclick="sortBy('author')" data-sort="author">Author</th>
        <th onclick="sortBy('publisher')" data-sort="publisher">Publisher</th>
        <th onclick="sortBy('description')" data-sort="description">Description</th>
        <th onclick="sortBy('inventory')" data-sort="inventory">Inventory</th>
        <th onclick="sortBy('price')" data-sort="price">Price</th>
        <!-- Doesn't need to be on the list view, only needs to be in individual book view-->
        <th onclick="sortBy('pageCount')" data-sort="pageCount">Page Count</th>
    </tr>
    </thead>
    <tbody id="book-table" th:insert="~{fragments/book-table}"></tbody>
</table>

<br>

<div th:insert="~{fragments/book-form/add-book-modal}"></div>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<br>

<button id="open-add-book-modal">Add New Book</button>

<script th:src="@{/js/bookTable.js}"></script>
<script th:src="@{/js/bookForm.js}"></script>
</body>
</html>